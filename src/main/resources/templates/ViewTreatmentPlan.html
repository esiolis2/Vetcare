<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout.html}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Treatment Plan Details</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <link rel="stylesheet" th:href="@{/assets/css/treatmentPlan.css}">
</head>
<body>
<div layout:fragment="content">
  <div class="container petTreatmentPlanContainer">
    <div class="text-center mb-4">
      <h2>Pet Treatment Plan</h2>
    </div>

    <!-- Pet Selection Dropdown -->
    <div class="pet-selection mb-4">
      <form th:action="@{/treatmentPlan}" method="get">
        <div class="form-group">
          <label for="petSelect">Choose the Pet</label>
          <select class="form-select" id="petSelect" name="petId" onchange="this.form.submit()">
            <option value="" selected>Select a Pet</option>
            <option th:each="pet : ${pets}" th:value="${pet.petID}" th:text="${pet.name}"></option>
          </select>
        </div>
      </form>
    </div>
<!--    <div th:if="${treatmentPlans}">-->
<!--      <p>Data for treatment plans: <span th:text="${treatmentPlans}">Treatment plan data here</span></p>-->
<!--    </div>-->

    <!-- Treatment Plan Details -->
    <div class="treatment-plan" th:if="${pet != null}">
      <div class="details-header">
        <h3 th:text="${pet.name} + ' Treatment Plan'"></h3>
      </div>
      <div class="details-container">
        <table class="table table-striped">
<!--          <thead>-->
<!--          <tr>-->
<!--            <th class="label">Field</th>-->
<!--            <th class="label">Details</th>-->
<!--          </tr>-->
<!--          </thead>-->
          <tbody>
<!--          <tr th:each="treatmentPlan : ${treatmentPlans}">-->
<!--            <td class="label">Pet ID</td>-->
<!--            <td th:text="${treatmentPlan != null ? treatmentPlan.petID : 'N/A'}"></td>-->
<!--          </tr>-->
          <tr th:each="treatmentPlan : ${treatmentPlans}">
            <td class="label">Diagnosis</td>
            <td th:text="${treatmentPlan != null ? treatmentPlan.diagnosis : 'N/A'}"></td>
          </tr>
          <tr th:each="treatmentPlan : ${treatmentPlans}">
            <td class="label">Treatment Type</td>
            <td th:text="${treatmentPlan != null ? treatmentPlan.treatmentType : 'N/A'}"></td>
          </tr>
          <tr th:each="treatmentPlan : ${treatmentPlans}">
            <td class="label">Pet Condition</td>
            <td th:text="${treatmentPlan != null ? treatmentPlan.petCondition : 'N/A'}"></td>
          </tr>
          <tr th:each="treatmentPlan : ${treatmentPlans}">
            <td class="label">Is Emergency?</td>
            <td th:text="${treatmentPlan != null && treatmentPlan.isEmergency != null ? (treatmentPlan.isEmergency ? 'Yes' : 'No') : 'N/A'}"></td>
          </tr>
          <tr th:each="treatmentPlan : ${treatmentPlans}">
            <td class="label">Start Date</td>
            <td th:text="${treatmentPlan.startDate != null ? #temporals.format(treatmentPlan.startDate, 'yyyy-MM-dd') : 'N/A'}"></td>
          </tr>
          <tr th:each="treatmentPlan : ${treatmentPlans}">
            <td class="label">End Date</td>
            <td th:text="${treatmentPlan.endDate != null ? #temporals.format(treatmentPlan.endDate, 'yyyy-MM-dd') : 'N/A'}"></td>
          </tr>
          <tr th:each="treatmentPlan : ${treatmentPlans}">
            <td class="label">Prescribed Medications</td>
            <td th:text="${treatmentPlan != null ? treatmentPlan.prescribedMedications : 'N/A'}"></td>
          </tr>
          <tr th:each="treatmentPlan : ${treatmentPlans}">
            <td class="label">Treatment Duration</td>
            <td th:text="${treatmentPlan != null ? treatmentPlan.treatmentDuration : 'N/A'}"></td>
          </tr>
          <tr th:each="treatmentPlan : ${treatmentPlans}">
            <td class="label">Next Steps</td>
            <td th:text="${treatmentPlan != null ? treatmentPlan.nextSteps : 'N/A'}"></td>
          </tr>
          <tr th:each="treatmentPlan : ${treatmentPlans}">
            <td class="label">Vet Name</td>
            <td th:text="${treatmentPlan != null ? treatmentPlan.vetName : 'N/A'}"></td>
          </tr>
          <tr th:each="treatmentPlan : ${treatmentPlans}">
            <td class="label">Follow-Up Date</td>
            <td th:text="${treatmentPlan.followUpDate != null ? #temporals.format(treatmentPlan.followUpDate, 'yyyy-MM-dd') : 'N/A'}"></td>
          </tr>
          <tr th:each="treatmentPlan : ${treatmentPlans}">
            <td class="label">Cost Estimate</td>
            <td th:text="${treatmentPlan != null ? treatmentPlan.costEstimate : 'N/A'}"></td>
          </tr>
          <tr th:each="treatmentPlan : ${treatmentPlans}">
            <td class="label">Treatment Outcome</td>
            <td th:text="${treatmentPlan != null ? treatmentPlan.treatmentOutcome : 'N/A'}"></td>
          </tr>
          <tr th:each="treatmentPlan : ${treatmentPlans}">
            <td class="label">Clinic Location</td>
            <td th:text="${treatmentPlan != null ? treatmentPlan.clinicLocation : 'N/A'}"></td>
          </tr>
          <tr th:each="treatmentPlan : ${treatmentPlans}">
            <td class="label">Is Insured?</td>
            <td th:text="${treatmentPlan != null && treatmentPlan.isInsured != null ? (treatmentPlan.isInsured ? 'Yes' : 'No') : 'N/A'}"></td>
          </tr>
          <tr th:each="treatmentPlan : ${treatmentPlans}">
            <td class="label">Insurance Details</td>
            <td th:text="${treatmentPlan != null ? treatmentPlan.insuranceDetails : 'N/A'}"></td>
          </tr>
          <tr th:each="treatmentPlan : ${treatmentPlans}">
            <td class="label">Payment Status</td>
            <td th:text="${treatmentPlan != null ? treatmentPlan.paymentStatus : 'N/A'}"></td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>

    <a href="/access-medical-record" class="btn-common btn-back">Back to Treatment Plans</a>

    <div class="text-center">
      <a href="#" class="btn-common btn-download" onclick="downloadPDF()">Download PDF</a>
      <a href="#" class="btn-common btn-share" onclick="shareRecords()">Share</a>
    </div>
  </div>
  <script th:src="@{/scripts/getPetMedicalRecord.js}"></script>
</div>
</body>
</html>








































<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"-->
<!--      layout:decorate="~{layout.html}">-->
<!--<head>-->
<!--  <meta charset="UTF-8">-->
<!--  <title>View Treatment Plan</title>-->
<!--</head>-->
<!--<body>-->
<!--<div layout:fragment="content">-->
<!--  <h2 class="text-center">[Pet name] Treatment Plan</h2>-->
<!--  <div class="table-container d-flex justify-content-center">-->
<!--  <table class="table table-bordered">-->
<!--    <thead>-->
<!--    <tr>-->
<!--      <th scope="col" style="width: 33%;">Treatment Plan Number</th>-->
<!--      <th scope="col" style="width: 67%;">[1]</th>-->
<!--    </tr>-->
<!--    </thead>-->
<!--    <tbody>-->
<!--    <tr>-->
<!--      <th scope="row" style="width: 33%;">Diagnosis/Conditions</th>-->
<!--      <td style="width: 67%;">Mark</td>-->
<!--    </tr>-->
<!--    <tr>-->
<!--      <th scope="row" style="width: 33%;">Prescriptions/Vaccinations</th>-->
<!--      <td style="width: 67%;">Otto</td>-->
<!--    </tr>-->
<!--    <tr>-->
<!--      <th scope="row" style="width: 33%;">Dose</th>-->
<!--      <td style="width: 67%;">@mdo</td>-->
<!--    </tr>-->
<!--    <tr>-->
<!--      <th scope="row" style="width: 33%;">Repeats</th>-->
<!--      <td style="width: 67%;">Mark</td>-->
<!--    </tr>-->
<!--    <tr>-->
<!--      <th scope="row" style="width: 33%;">Lengths of treatment</th>-->
<!--      <td style="width: 67%;">Otto</td>-->
<!--    </tr>-->
<!--    <tr>-->
<!--      <th scope="row" style="width: 33%;">Notes</th>-->
<!--      <td style="width: 67%;">@mdo</td>-->
<!--    </tr>-->
<!--    <tr>-->
<!--      <th scope="row" style="width: 33%;">Date</th>-->
<!--      <td style="width: 67%;">05/09/2024</td>-->
<!--    </tr>-->
<!--    </tbody>-->
<!--  </table>-->
<!--  </div>-->
<!--</div>-->
<!--</body>-->
<!--</html>-->